@echo off
chcp 65001 > nul
echo.
echo ====================================================
echo üîÑ SECS Server Restart - –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Å –æ—á–∏—Å—Ç–∫–æ–π
echo ====================================================
echo.

echo üõë –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Å—Ç–∞—Ä—ã–µ –ø—Ä–æ—Ü–µ—Å—Å—ã...
taskkill /f /im dotnet.exe > nul 2>&1
taskkill /f /im Server.exe > nul 2>&1
taskkill /f /im python.exe > nul 2>&1

echo ‚è≥ –û–∂–∏–¥–∞–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –ø—Ä–æ—Ü–µ—Å—Å–æ–≤...
timeout /t 3 /nobreak > nul

echo üîß –°–æ–±–∏—Ä–∞–µ–º –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π –ø—Ä–æ–µ–∫—Ç...
dotnet build --configuration Release

if %errorlevel% neq 0 (
    echo ‚ùå –û—à–∏–±–∫–∞ —Å–±–æ—Ä–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞!
    pause
    exit /b 1
)

echo ‚úÖ –°–±–æ—Ä–∫–∞ —É—Å–ø–µ—à–Ω–∞!
echo.

echo üöÄ –ó–∞–ø—É—Å–∫–∞–µ–º —Å–µ—Ä–≤–µ—Ä —Å –æ—á–∏—Å—Ç–∫–æ–π –º–∞—Ç—á–µ–π...
start "SECS Server" /D "C:\SECS\Server" dotnet run --configuration Release

echo ‚è≥ –û–∂–∏–¥–∞–Ω–∏–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ —Å–µ—Ä–≤–µ—Ä–∞ (15 —Å–µ–∫—É–Ω–¥)...
timeout /t 15 /nobreak > nul

echo ü§ñ –ó–∞–ø—É—Å–∫–∞–µ–º –º–µ–Ω–µ–¥–∂–µ—Ä –±–æ—Ç–æ–≤...
start "SECS Bots" /D "C:\SECS\Server\Bots" python bot_manager.py

echo.
echo ‚úÖ –°–∏—Å—Ç–µ–º–∞ –ø–µ—Ä–µ–∑–∞–ø—É—â–µ–Ω–∞ —Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è–º–∏!
echo.
echo üîß –ò–∑–º–µ–Ω–µ–Ω–∏—è:
echo   - –û—á–∏—Å—Ç–∫–∞ –∞–∫—Ç–∏–≤–Ω—ã—Ö –º–∞—Ç—á–µ–π –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ —Å–µ—Ä–≤–µ—Ä–∞
echo   - –û—á–∏—Å—Ç–∫–∞ —Å—Å—ã–ª–æ–∫ –Ω–∞ –º–∞—Ç—á–∏ —É –≤—Å–µ—Ö –∏–≥—Ä–æ–∫–æ–≤
echo   - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ –º–∞—Ç—á–∞ –≤ Unity (—Ç–æ–ª—å–∫–æ –∞–∫—Ç–∏–≤–Ω—ã–µ)
echo   - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–π —ç–Ω–¥–ø–æ–∏–Ω—Ç –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∞–∫—Ç–∏–≤–Ω—ã—Ö –º–∞—Ç—á–µ–π
echo.
echo üåê –î–æ—Å—Ç—É–ø–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã:
echo   - –ê–¥–º–∏–Ω–∫–∞: https://renderfin.com/online-game/admin.html
echo   - –ò–≥—Ä–∞: https://renderfin.com/online-game/game.html
echo   - –ê–∫—Ç–∏–≤–Ω—ã–µ –º–∞—Ç—á–∏: https://renderfin.com/api-game-match/user/{userId}
echo   - –ò—Å—Ç–æ—Ä–∏—è –º–∞—Ç—á–µ–π: https://renderfin.com/api-game-match/user/{userId}/history
echo.
echo üéØ –¢–µ–ø–µ—Ä—å —Å–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ:
echo   - –ú–∞—Ç—á–∏ –æ—á–∏—â–∞—é—Ç—Å—è –ø—Ä–∏ —Ä–µ—Å—Ç–∞—Ä—Ç–µ —Å–µ—Ä–≤–µ—Ä–∞
echo   - Unity –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Ç–æ–ª—å–∫–æ –∞–∫—Ç–∏–≤–Ω—ã–µ –º–∞—Ç—á–∏
echo   - –ü–µ—Ä–µ—Ö–æ–¥ –≤ –º–∞—Ç—á –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
echo.
pause 